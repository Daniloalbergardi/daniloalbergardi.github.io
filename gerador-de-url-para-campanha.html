<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Gerador de URL UTM ‚Äî Tools For You</title>
<meta name="description" content="Crie URLs com par√¢metros UTM (source, medium, campaign, term, content) com valida√ß√£o e c√≥pia r√°pida." />
<meta name="theme-color" content="#0f172a" />
<style>
  :root{
    --bg:#0f172a; --bg2:#0b1222; --fg:#e2e8f0; --muted:#94a3b8; --accent:#38bdf8; --card:#111827; --ring:#1e293b;
    --ok:#22c55e; --warn:#f59e0b;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,Arial,sans-serif;
    color:var(--fg); background:linear-gradient(180deg,#0b1222,#0f172a);
  }
  .wrap{max-width:1040px;margin:0 auto;padding:20px}
  header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
  .brand{display:flex;align-items:center;gap:12px}
  .logo{
    width:44px;height:44px;border-radius:12px;display:grid;place-items:center;
    background:radial-gradient(75% 75% at 50% 30%, #38bdf855 0%, #38bdf822 60%, transparent 100%), #0b1222;
    border:1px solid #1f2937; box-shadow:0 10px 30px #000a; font-size:24px
  }
  nav{background:#0b1222;border:1px solid var(--ring);border-radius:14px;padding:8px 10px}
  nav a{color:var(--fg);text-decoration:none;padding:10px 12px;border-radius:10px;display:inline-block;font-weight:600}
  nav a:hover{background:#0f172a}

  .grid{display:grid;gap:16px}
  @media (min-width:900px){ .grid-2{grid-template-columns:1.1fr .9fr} }

  .card{
    background:linear-gradient(180deg,#0f172a,#0b1222); border:1px solid #1e293b; border-radius:18px;
    padding:18px; box-shadow:0 10px 30px #0007; display:flex;flex-direction:column;gap:12px
  }
  label{font-size:.95rem;color:var(--muted)}
  input[type="text"], textarea{
    width:100%; background:#0b1222; border:1px solid #1f2937; color:var(--fg);
    padding:10px 12px; border-radius:12px; outline:2px solid transparent
  }
  .row{display:flex;gap:12px;flex-wrap:wrap}
  .btn{
    appearance:none; border:1px solid #1f2937; background:#0b1222; color:var(--fg);
    padding:10px 14px; border-radius:14px; cursor:pointer; font-weight:700
  }
  .btn:hover{border-color:#2a3a52}
  .btn-primary{background:linear-gradient(180deg,#38bdf8,#0ea5e9); border-color:#38bdf8; color:#001018}
  .btn-ok{background:linear-gradient(180deg,#22c55e,#16a34a); border-color:#22c55e; color:#00180a}
  .hint{font-size:.9rem;color:var(--muted)}
  .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace}
  .out{min-height:44px;background:#0b1222;border:1px solid #1f2937;border-radius:12px;padding:12px;white-space:nowrap;overflow:auto}
  .pill{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:#0b1222;border:1px solid #1f2937;color:var(--muted);font-size:.85rem}
  footer{margin-top:18px;color:var(--muted);font-size:.9rem;display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">üéØ</div>
        <div>
          <h1 style="margin:0;font-size:1.2rem">Gerador de URL UTM</h1>
          <div class="hint">Crie URLs rastre√°veis sem perder par√¢metros existentes.</div>
        </div>
      </div>
      <nav>
        <a href="index.html">In√≠cio</a>
        <a href="gerador-de-url-para-campanha.html">Gerador UTM</a>
        <a href="gerador-de-link-whatsapp.html">Link WhatsApp</a>
        <a href="relax-and-breathe.html">Relax & Breathe</a>
        <a href="english-practice.html">Praticar Ingl√™s</a>
      </nav>
    </header>

    <section class="grid grid-2">
      <div class="card">
        <div>
          <label for="base">URL do website <span class="pill mono">ex.: https://www.exemplo.com/produto</span></label>
          <input id="base" type="text" placeholder="https://www.seusite.com/pagina" autofocus />
        </div>
        <div class="row">
          <div style="flex:1;min-width:240px">
            <label for="campaign">utm_campaign *</label>
            <input id="campaign" type="text" placeholder="black_friday, promo_verao_2025" />
          </div>
          <div style="flex:1;min-width:200px">
            <label for="source">utm_source *</label>
            <input id="source" type="text" placeholder="google, facebook, newsletter" />
          </div>
          <div style="flex:1;min-width:200px">
            <label for="medium">utm_medium *</label>
            <input id="medium" type="text" placeholder="cpc, banner, email, feed" />
          </div>
        </div>
        <div class="row">
          <div style="flex:1;min-width:200px">
            <label for="term">utm_term (opcional)</label>
            <input id="term" type="text" placeholder="palavra-chave / varia√ß√£o" />
          </div>
          <div style="flex:1;min-width:200px">
            <label for="content">utm_content (opcional)</label>
            <input id="content" type="text" placeholder="criativo_a, video_30s, banner_300x250" />
          </div>
        </div>

        <div class="row">
          <button class="btn btn-primary" id="build">Gerar URL</button>
          <button class="btn" id="reset">Limpar</button>
        </div>

        <div>
          <div class="row" style="align-items:center;justify-content:space-between;">
            <div class="pill mono">Resultado</div>
            <div class="row" style="gap:8px">
              <button class="btn btn-ok" id="open">Abrir</button>
              <button class="btn" id="copy">Copiar</button>
            </div>
          </div>
          <div id="out" class="out mono" tabindex="0"></div>
          <div class="hint">A URL √© constru√≠da preservando par√¢metros j√° existentes.</div>
        </div>
      </div>

      <div class="card">
        <div style="font-weight:700">Dicas r√°pidas</div>
        <ul class="hint" style="padding-left:18px;line-height:1.6">
          <li>Prefira <b>snake_case</b> ou <b>kebab-case</b> sem espa√ßos.</li>
          <li>Mantenha conven√ß√µes: ex. <code>utm_source=google</code>, <code>utm_medium=cpc</code>.</li>
          <li>Crie um link por canal/meio para relat√≥rios limpos.</li>
          <li>Evite caracteres especiais; use letras/n√∫meros/_/-.</li>
        </ul>
        <div class="hint">Se a URL base n√£o tiver protocolo, tentaremos usar <b>https://</b>.</div>
      </div>
    </section>

    <footer>
      <div>¬© <span id="y"></span> Danilo Oliveira Albergardi</div>
      <div class="hint">100% est√°tico ‚Ä¢ GitHub Pages</div>
    </footer>
  </div>

<script>
  const $ = id => document.getElementById(id);
  const els = { base:$('base'), campaign:$('campaign'), source:$('source'), medium:$('medium'), term:$('term'), content:$('content'),
                build:$('build'), reset:$('reset'), out:$('out'), open:$('open'), copy:$('copy') };

  function slug(x){ return (x||'').trim().replace(/\s+/g,'_').replace(/[^\w\-\.]/g,'').toLowerCase(); }
  function safeURL(u){
    try{ return new URL(u); }
    catch(_){
      if(!/^https?:\/\//i.test(u)) return new URL('https://' + u);
      throw _;
    }
  }
  function build(){
    const base = els.base.value.trim();
    const req = ['campaign','source','medium'];
    for(const k of req){ if(!els[k].value.trim()){ alert('Preencha os campos obrigat√≥rios (campaign, source, medium).'); return; } }

    let url;
    try{ url = safeURL(base); }catch{ alert('URL inv√°lida.'); return; }

    const params = url.searchParams;
    params.set('utm_campaign', slug(els.campaign.value));
    params.set('utm_source',   slug(els.source.value));
    params.set('utm_medium',   slug(els.medium.value));
    const term = slug(els.term.value); if(term) params.set('utm_term', term); else params.delete('utm_term');
    const content = slug(els.content.value); if(content) params.set('utm_content', content); else params.delete('utm_content');

    const final = url.toString();
    els.out.textContent = final;
    return final;
  }
  function copy(txt){
    navigator.clipboard?.writeText(txt).then(()=>alert('Copiado!')).catch(()=>{
      const ta=document.createElement('textarea');ta.value=txt;document.body.appendChild(ta);
      ta.select();document.execCommand('copy');document.body.removeChild(ta);alert('Copiado!');
    });
  }

  els.build.addEventListener('click', ()=>build());
  els.reset.addEventListener('click', ()=>{
    ['campaign','source','medium','term','content'].forEach(k=>els[k].value=''); els.out.textContent='';
  });
  els.open.addEventListener('click', ()=>{ const u=build(); if(u) window.open(u,'_blank') });
  els.copy.addEventListener('click', ()=>{ if(els.out.textContent) copy(els.out.textContent) });
  document.getElementById('y').textContent = new Date().getFullYear();

  // live update on typing
  ['base','campaign','source','medium','term','content'].forEach(id=>{
    $(id).addEventListener('input', ()=>{ if(els.out.textContent) build(); });
  });
</script>
</body>
</html>
